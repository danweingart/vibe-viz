"use client";

import { CONTRACT_ADDRESS } from "@/lib/constants";

interface OpenSeaLinkProps {
  type: "token" | "wallet";
  value: string; // tokenId for token, address for wallet
  className?: string;
  size?: number;
}

// OpenSea logo SVG
function OpenSeaIcon({ size = 14 }: { size?: number }) {
  return (
    <svg
      width={size}
      height={size}
      viewBox="0 0 90 90"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M45 0C20.151 0 0 20.151 0 45C0 69.849 20.151 90 45 90C69.849 90 90 69.849 90 45C90 20.151 69.858 0 45 0ZM22.203 46.512L22.392 46.206L34.101 27.891C34.272 27.63 34.677 27.657 34.803 27.945C36.756 32.328 38.448 37.782 37.656 41.175C37.323 42.57 36.396 44.46 35.352 46.206C35.217 46.458 35.073 46.701 34.92 46.935C34.848 47.052 34.722 47.124 34.587 47.124H22.545C22.221 47.124 22.032 46.773 22.203 46.512ZM74.376 52.812C74.376 52.983 74.277 53.127 74.133 53.19C73.224 53.577 70.119 55.008 68.832 56.799C65.538 61.38 63.027 67.932 57.402 67.932H33.948C25.632 67.932 18.9 61.173 18.9 52.83V52.56C18.9 52.344 19.08 52.164 19.305 52.164H32.373C32.634 52.164 32.823 52.398 32.805 52.659C32.706 53.505 32.868 54.378 33.273 55.17C34.047 56.745 35.658 57.726 37.404 57.726H43.56V52.677H37.476C37.143 52.677 36.945 52.299 37.134 52.029C37.206 51.921 37.287 51.804 37.368 51.678C37.98 50.769 38.853 49.392 39.717 47.832C40.32 46.758 40.905 45.603 41.382 44.439C41.472 44.232 41.544 44.016 41.616 43.809C41.733 43.431 41.859 43.071 41.949 42.711C42.039 42.405 42.111 42.081 42.183 41.775C42.39 40.851 42.48 39.882 42.48 38.877C42.48 38.475 42.462 38.055 42.426 37.653C42.408 37.215 42.354 36.777 42.3 36.339C42.264 35.955 42.201 35.58 42.129 35.187C42.039 34.632 41.913 34.086 41.778 33.54L41.733 33.342C41.634 32.994 41.553 32.664 41.445 32.316C41.139 31.284 40.797 30.276 40.428 29.331C40.293 28.917 40.131 28.512 39.969 28.116C39.726 27.486 39.474 26.919 39.24 26.37C39.123 26.127 39.024 25.911 38.925 25.686C38.817 25.434 38.7 25.182 38.583 24.948C38.502 24.768 38.403 24.606 38.34 24.444L37.404 22.806C37.287 22.599 37.476 22.347 37.71 22.41L42.246 23.598H42.264C42.273 23.598 42.282 23.607 42.282 23.607L42.885 23.769L43.542 23.958L43.56 23.967V21.348C43.56 19.8 44.802 18.549 46.341 18.549C47.115 18.549 47.817 18.864 48.321 19.377C48.825 19.89 49.122 20.592 49.122 21.348V25.578L49.599 25.704C49.635 25.713 49.671 25.731 49.707 25.758C49.842 25.857 50.031 26.01 50.283 26.199C50.481 26.352 50.697 26.541 50.958 26.748C51.471 27.153 52.083 27.666 52.749 28.26C52.929 28.413 53.1 28.575 53.262 28.737C54.108 29.502 55.044 30.384 55.944 31.365C56.205 31.662 56.457 31.959 56.718 32.274C56.97 32.598 57.24 32.913 57.474 33.228C57.78 33.651 58.113 34.092 58.401 34.551C58.536 34.758 58.698 34.974 58.833 35.19C59.202 35.802 59.526 36.432 59.832 37.062C59.958 37.332 60.084 37.629 60.183 37.917C60.471 38.646 60.696 39.384 60.831 40.122C60.876 40.266 60.903 40.428 60.921 40.572V40.617C60.993 40.914 61.011 41.229 61.029 41.553C61.092 42.324 61.047 43.095 60.885 43.866C60.831 44.145 60.759 44.406 60.678 44.685C60.588 44.973 60.498 45.252 60.381 45.522C60.147 46.08 59.877 46.638 59.553 47.16C59.445 47.367 59.31 47.592 59.166 47.799C59.013 48.024 58.86 48.24 58.716 48.447C58.518 48.726 58.302 49.005 58.095 49.266C57.915 49.518 57.717 49.779 57.51 50.013C57.213 50.373 56.934 50.715 56.628 51.039C56.448 51.264 56.25 51.489 56.043 51.696C55.845 51.921 55.638 52.128 55.458 52.317C55.143 52.65 54.882 52.92 54.657 53.154L54.18 53.658C54.099 53.748 53.982 53.793 53.865 53.793H49.122V57.726H53.748C54.846 57.726 55.89 57.339 56.736 56.628C57.024 56.385 58.437 55.152 60.093 53.505C60.147 53.451 60.219 53.406 60.291 53.388L73.962 49.266C74.214 49.185 74.376 49.419 74.376 49.653V52.812Z"
        fill="currentColor"
      />
    </svg>
  );
}

export function OpenSeaLink({ type, value, className = "", size = 14 }: OpenSeaLinkProps) {
  const url = type === "token"
    ? `https://opensea.io/assets/ethereum/${CONTRACT_ADDRESS}/${value}`
    : `https://opensea.io/${value}`;

  return (
    <a
      href={url}
      target="_blank"
      rel="noopener noreferrer"
      className={`inline-flex items-center justify-center text-foreground-muted hover:text-[#2081e2] transition-colors ${className}`}
      title={type === "token" ? `View token #${value} on OpenSea` : "View wallet on OpenSea"}
      onClick={(e) => e.stopPropagation()}
    >
      <OpenSeaIcon size={size} />
    </a>
  );
}

// Export the icon separately for custom usage
export { OpenSeaIcon };
